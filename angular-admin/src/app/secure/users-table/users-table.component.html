<div class="wrapper">
  <a
    mat-fab
    aria-label="Add user button"
    matTooltip="Add new user"
    class="table-fab"
    routerLink="/users/create"
  >
    <mat-icon>person_add</mat-icon>
  </a>
  <div id="users-table" class="mat-elevation-z8">
    <table
      mat-table
      class="full-width-table"
      matSort
      (matSortChange)="handleSort()"
      aria-label="Elements"
    >
      <!-- Id Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
        <td mat-cell *matCellDef="let user">{{ user?.id }}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td mat-cell *matCellDef="let user">
          {{ user?.first_name }} {{ user?.last_name }}
        </td>
      </ng-container>
      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
        <td mat-cell *matCellDef="let user">{{ user?.email }}</td>
      </ng-container>
      <!-- Role Column -->
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Role</th>
        <td mat-cell *matCellDef="let user">{{ user?.role?.name }}</td>
      </ng-container>
      <!-- Action Column -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Action</th>
        <td mat-cell *matCellDef="let user">
          <button
            mat-icon-button
            matTooltip="Edit this user"
            aria-label="Edit user button"
            [routerLink]="['/users', user.id, 'edit']"
          >
            <mat-icon>edit</mat-icon>
          </button>
          <button
            mat-icon-button
            matTooltip="Remove this user"
            aria-label="Delete user button"
            (click)="deleteUser(user?.id)"
          >
            <mat-icon>person_remove</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
      #paginator
      [length]="meta.total"
      [pageIndex]="0"
      [pageSize]="15"
    >
    </mat-paginator>
  </div>
</div>
